{"uid":"6b552a1d08b2699a","name":"test_createTemplate","fullName":"DXWeb.testCases.test_dxweb.TestDXWeb#test_createTemplate","historyId":"50d076df853fd7dbb62ac8c196f37f05","time":{"start":1664095865017,"stop":1664095898884,"duration":33867},"status":"broken","statusMessage":"TypeError: YamlUtil.write_append_relevance_yaml() missing 1 required positional argument: 'self'","statusTrace":"self = <DXWeb.testCases.test_dxweb.TestDXWeb object at 0x0000021DBA9FE5F0>\n\n    def test_createTemplate(self):\n        createTemp= CreateTemplate(self.driver)\n>       createTemp.create_template()\n\ntest_dxweb.py:35: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <DXWeb.pageObject.createTemplate.CreateTemplate object at 0x0000021DBA9FE470>\n\n    def create_template(self):\n        allhandles = self.driver.window_handles  # 获取当前窗口句柄\n        # print('第2次打印窗口',allhandles)\n        if self.driver.current_window_handle == allhandles[0]:\n            pass\n        else:\n            self.driver.switch_to.window(allhandles[0])\n        #创建新模板\n        self.click(self.emptyCreate)\n        allhandles = self.driver.window_handles  # 获取当前窗口句柄\n        # print('第3次打印窗口', allhandles)\n        if self.driver.current_window_handle == allhandles[2]:\n            pass\n        else:\n            self.driver.switch_to.window(allhandles[2])\n        # window_handles = self.driver.window_handles\n        # self.driver.switch_to.window(window_handles[1])  # 切换标签页\n        self.click(self.serviceObject)\n        self.click(self.neseblod)\n        self.click(self.firstPicture)\n        self.click(self.firstSelectFromPictures)\n        time.sleep(1)\n        ActionChains(self.driver).move_to_element(self.location(self.firstApprovedImages)).perform() # 鼠标悬浮到图片上\n        time.sleep(1)\n        # 点击 选择图片\n        self.click(self.firstSelectPicture)\n        time.sleep(1)\n        #点击事件类型\n        self.click(self.eventType)\n        time.sleep(1)\n        #点击打开浏览器\n        self.click(self.openBrowser)\n        # 点击链接输入框\n        time.sleep(1)\n        self.click(self.linkInputBox)\n        time.sleep(1)\n        # div 元素 使用js 脚步修改text 内容\n        self.driver.execute_script(\"document.getElementsByClassName('z-active')[1].innerText='https://www.baidu.com'\")\n        time.sleep(5)\n        #第二张图片\n        self.click(self.secondPicture)\n        #从图库选择\n        self.click(self.secondSelectFromPictures)\n        time.sleep(1)\n        ActionChains(self.driver).move_to_element(self.location(self.secondApprovedImages)).perform()  # 鼠标悬浮到图片上\n        time.sleep(1)\n        self.click(self.secondSelectPicture)\n        time.sleep(1)\n        # 点击事件类型\n        self.click(self.eventType)\n        time.sleep(1)\n        # 点击打开浏览器\n        self.click(self.openBrowser)\n        # 点击链接输入框\n        self.click(self.linkInputBox)\n        time.sleep(1)\n        # div 元素 使用js 脚步修改text 内容\n        self.driver.execute_script(\"document.getElementsByClassName('z-active')[1].innerText='https://www.baidu.com'\")\n        time.sleep(5)\n    \n        # 点击提交按钮\n        self.click(self.submitButton)\n        # 模板名称\n        self.input(self.tmpName,\"测试多图文模板\")\n        # 使用场景\n        self.input(self.usageScenario,\"测试使用\")\n        # 模板用途\n        self.click(self.tmpUse)\n        time.sleep(1)\n        # 测试模板\n        self.click(self.testTmp)\n        try:\n            # vivo 复选框\n            self.click(self.vivoCheckBox)\n            # oppo 复选框\n            self.click(self.oppoCheckBox)\n        except (NoSuchElementException):\n            pass\n        # 短信内容\n        self.input(self.stringContent,\"测试短信示例一\")\n        # 提交审核按钮\n        self.click(self.submitCheckButton)\n        time.sleep(1)\n    \n        # 创建模板成功 ， 切换窗口至ec\n        self.driver.switch_to.window(allhandles[0])\n        #点击搜索按钮\n        self.click(self.searchButton)\n        time.sleep(2)\n    \n        # 遍历我的模板\n        templates = self.locations(self.myAllTemplate)\n        for temp in templates:\n            newTplName = temp.find_element(By.XPATH, './child::p[1]').text[3:]\n            if newTplName == '测试多图文模板':\n                newTplId = temp.find_element(By.XPATH, './child::p[2]').text[3:]\n                print(\"新建模板newTplId:\",newTplId)\n>               YamlUtil.write_append_relevance_yaml(data={\"newTplId\":newTplId})\nE               TypeError: YamlUtil.write_append_relevance_yaml() missing 1 required positional argument: 'self'\n\n..\\pageObject\\createTemplate.py:160: TypeError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_xunit_setup_class_fixture_TestDXWeb","time":{"start":1664095842600,"stop":1664095843895,"duration":1295},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false}],"afterStages":[{"name":"_xunit_setup_class_fixture_TestDXWeb::0","time":{"start":1664095899017,"stop":1664095901205,"duration":2188},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false}],"labels":[{"name":"parentSuite","value":"DXWeb.testCases"},{"name":"suite","value":"test_dxweb"},{"name":"subSuite","value":"TestDXWeb"},{"name":"host","value":"MW--EMIFAABYJTR"},{"name":"thread","value":"12876-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"DXWeb.testCases.test_dxweb"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"6b552a1d08b2699a.json","parameterValues":[]}